<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.todo.dao.TaskDao">
<!--    <resultMap id="task" type="Task">-->
<!--        <id property="id" column="id"/>-->
<!--        <result property="TaskId" column="TaskId"></result>-->
<!--        <result property="UsrId" column="UsrId"></result>-->
<!--        <result property="Task" column="Task"></result>-->

<!--    </resultMap>-->
    <select id="getTask" resultType="Task">
        select * from todo.task
        where UsrId = #{UsrId};
    </select>
    <select id="getTaskId" resultType="int">
        select Max(TaskId) from todo.task where UsrId = #{UsrId};
    </select>
    <insert id="addNewTask">
        insert into todo.task
        values (#{TaskId},#{UsrId},#{IsImportant},#{IsComplete},#{IsDaily},#{AlertTime},#{Task});
    </insert>
    <update id="updateTask">
        update todo.task
        set Task = #{Task}
        where UsrId = #{UsrId};
    </update>
    <update id="isImportantTask">
        update todo.task
        set IsImportant = #{IsImportant}
        where UsrId = #{UsrId} and TaskId = #{TaskId};
    </update>
</mapper>

